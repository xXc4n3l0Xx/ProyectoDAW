<div class="fondo">
  <div class="contenido">
    <h2>Editar datos de usuario</h2>

    <form #form="ngForm" (ngSubmit)="actualizarPerfil(form)">
      <input
        type="text"
        [(ngModel)]="usuario.nombre"
        name="nombre"
        placeholder="Nickname"
        required
        #nombreInput="ngModel"
      />
      <div *ngIf="nombreInput.invalid && nombreInput.touched" class="error">
        El nombre es obligatorio.
      </div>

      <input
        type="email"
        [(ngModel)]="usuario.correo"
        name="correo"
        placeholder="Correo"
        required
        pattern="^[^\s@]+@[^\s@]+\.[^\s@]+$"
        #correoInput="ngModel"
      />
      <div *ngIf="correoInput.invalid && correoInput.touched" class="error">
        Ingresa un correo v치lido.
      </div>

      <input
        type="password"
        [(ngModel)]="usuario.contrasena"
        name="contrasena"
        placeholder="Contrase침a"
        required
        #contrasenaInput="ngModel"
      />
      <div *ngIf="contrasenaInput.invalid && contrasenaInput.touched" class="error">
        La contrase침a es obligatoria.
      </div>

      <p class="aviso">
        Por seguridad, debes ingresar tu contrase침a actual o una nueva para guardar los cambios.
      </p>

      <p>Selecciona un nuevo avatar:</p>
      <div class="avatars">
        <img
          *ngFor="let icono of avatares"
          [src]="icono"
          [class.selected]="usuario.avatar === icono"
          (click)="seleccionarAvatar(icono)"
          class="avatar-option"
        />
      </div>
      <div *ngIf="mostrarErrorAvatar" class="error">
        Debes seleccionar un avatar.
      </div>

      <button type="submit">Actualizar</button>
    </form>

    <button (click)="cancelar()">Cancelar</button>
  </div>
</div>
